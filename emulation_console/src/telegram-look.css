/* окно телеги и рамка */
.tg-window { height: 100%; min-height: 0; overflow: hidden; background: #0f1116; display:grid; }
.tg-chat-frame {
  width: min(680px, 100%);
  height: 100%;
  margin: 0 auto;
  display: grid;
  grid-template-rows: 1fr; /* внутри управляет .right-pane */
  color: #e6e6e6;
  font: 14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial;
  border-radius: 10px;
  box-shadow: 0 2px 12px rgba(0,0,0,.35);
  min-height: 0; /* важно для вложенного скролла */
}

/* header */
.tg-header{ background:#17212b; display:flex; align-items:center; gap:12px; padding:10px 14px; border-bottom:1px solid rgba(255,255,255,.04); }
.tg-avatar{ width:34px; height:34px; border-radius:50%; background:#2a3746; }
.tg-title{ font-weight:600; }
.tg-sub{ font-size:12px; color:#8a98a6; }

/* левая колонка: три ряда, скролл в середине */
.app-left{
  height:100%; display:grid; grid-template-rows:auto 1fr auto; overflow:hidden; min-height:0;
}
.app-left .app-left-scroll{ overflow:auto; min-height:0; }

/* правая колонка: 3 ряда, шапка фикс, лента скроллится */
.right-pane{ display:grid; grid-template-rows:auto 1fr auto; height:100%; min-height:0; }
.right-pane__header{ padding:0; border-bottom:1px solid #1e293b; background:#0b1220; position:sticky; top:0; z-index:5; }
.right-pane__chat{ overflow:hidden; min-height:0; }
.right-pane__input{ border-top:1px solid #1e293b; }

/* прокручиваемая лента */
.right-pane__scroll{
  overflow-y:auto; overflow-x:hidden; min-height:0; height:100%;
  background:#0e1621; padding:14px 16px 22px;
}
.tg-scroll-inner{ max-width:860px; margin:0 auto; }

/* пузырьки и дата */
.tg-date{ text-align:center; margin:12px 0 16px; }
.tg-date > span{ display:inline-block; background:rgba(255,255,255,.06); border-radius:999px; padding:4px 10px; font-size:12px; color:#8a98a6; }
.tg-row{ display:flex; margin:6px 0; }
.tg-row.right{ justify-content:flex-end; }
.tg-bubble{ max-width:520px; white-space:pre-wrap; padding:9px 12px; border-radius:12px; box-shadow:0 1px 1px rgba(0,0,0,.35); }
.tg-incoming{ background:#242f3d; color:#e6e6e6; position:relative; border-bottom-left-radius:4px; padding-right:8px; }
.tg-incoming::after{ content:""; position:absolute; left:-8px; bottom:0; width:12px; height:12px; background:#242f3d; clip-path:polygon(100% 0,100% 100%,0 100%); }
.tg-outgoing{ background:#2b5278; color:#fff; position:relative; border-bottom-right-radius:4px; padding-right:14px; }
.tg-outgoing::after{ content:""; position:absolute; right:-8px; bottom:0; width:12px; height:12px; background:#2b5278; clip-path:polygon(0 0,100% 100%,0 100%); }

/* подпись/время/галочки */
.tg-metaRow{ display:inline-flex; align-items:flex-end; gap:4px; font-size:11px; opacity:.75; margin-left:6px; vertical-align:bottom; position:relative; top:2px; }
.tg-time{ line-height:1; }
.tg-checks{ display:inline-flex; gap:2px; margin-left:6px; }
.tg-checks svg{ width:14px; height:14px; fill:rgba(255,255,255,.7); }
.tg-checks.double svg:last-child{ margin-left:-6px; }
.tg-outgoing .tg-metaRow{ margin-right:-2px; }

/* inline-кнопки */
.tg-ik{ margin-top:8px; display:grid; gap:6px; }
.tg-ik-row{ display:flex; gap:6px; }
.tg-ik-row > button{ border:1px solid rgba(255,255,255,.12); background:#17212b; color:#e6e6e6; padding:6px 10px; border-radius:8px; cursor:pointer; }

/* нижняя панель ввода и элементы меню */
.tg-input{ background:#17212b; padding:10px 12px; border-top:1px solid rgba(255,255,255,.04); display:flex; gap:8px; }
.tg-input > input{ flex:1; padding:11px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.08); background:#0f1b26; color:#e6e6e6; }
.tg-send{ display:inline-flex; align-items:center; justify-content:center; width:42px; height:42px; border-radius:50%; background:#3390ec; border:none; cursor:pointer; transition:background .2s ease; }
.tg-send:hover{ background:#45a3ff; }
.tg-send svg{ width:22px; height:22px; fill:#fff; }

.tg-menu-button{ display:inline-flex; align-items:center; justify-content:center; padding:10px 18px; border-radius:999px; font-weight:600; cursor:pointer; background:#3390ec; color:#fff; border:none; transition:background .2s ease; }
.tg-menu-button:hover{ background:#45a3ff; }
.tg-menu-popup{ position:absolute; left:12px; right:12px; bottom:66px; background:#0e1621; border:1px solid rgba(255,255,255,.06); border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,.35); max-height:38vh; overflow:hidden; display:grid; grid-template-rows:auto 1fr; }
.tg-menu-head{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; background:#17212b; color:#8a98a6; font-size:12px; border-bottom:1px solid rgba(255,255,255,.06); }
.tg-menu-list{ overflow:auto; padding:8px; }
.tg-menu-item{ display:grid; grid-template-columns:auto 1fr; align-items:baseline; gap:10px; padding:10px; border-radius:10px; cursor:pointer; }
.tg-menu-item:hover{ background:rgba(255,255,255,.04); }
.tg-menu-cmd{ color:#50a4e9; font-weight:700; }
.tg-menu-desc{ color:#8a98a6; font-size:12px; }
